<!DOCTYPE html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P&L Simulation</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #dddddd;
            text-align: right;
            padding: 8px;
        }
        th {
            background-color: #f2f2f2;
        }
        .input-cell {
            text-align: right;
        }
        .input-cell input {
            width: 100px;
            text-align: right;
        }
        .highlight {
            color: red;
        }
        #waterfallChart {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>P&L Simulation</h1>
    <table>
        <thead>
            <tr>
                <th>Particulars</th>
                <th>Rs.</th>
                <th>% to Exposure</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Avg Exposure</td>
                <td class="input-cell"><input type="number" id="avgExposure" value="1000" onchange="updateValues()"></td>
                <td id="avgExposurePercent" class="highlight">100.0%</td>
            </tr>
            <tr>
                <td>Core Income</td>
                <td class="input-cell"><input type="number" id="coreIncome" value="120" onchange="updateValues()"></td>
                <td id="coreIncomePercent" class="highlight">12.0%</td>
            </tr>
            <tr>
                <td>Fee Income</td>
                <td class="input-cell"><input type="number" id="feeIncome" value="1.03" onchange="updateValues()"></td>
                <td id="feeIncomePercent" class="highlight">0.1%</td>
            </tr>
            <tr>
                <td>Total Income</td>
                <td id="totalIncome">121.03</td>
                <td id="totalIncomePercent">12.1%</td>
            </tr>
            <tr>
                <td>Finance Cost</td>
                <td class="input-cell"><input type="number" id="financeCost" value="72" onchange="updateValues()"></td>
                <td id="financeCostPercent" class="highlight">7.2%</td>
            </tr>
            <tr>
                <td>Outsourcing Cost</td>
                <td class="input-cell"><input type="number" id="outsourcingCost" value="1.86" onchange="updateValues()"></td>
                <td id="outsourcingCostPercent" class="highlight">0.2%</td>
            </tr>
            <tr>
                <td>Establishment Expenses</td>
                <td class="input-cell"><input type="number" id="establishmentExpenses" value="6.53" onchange="updateValues()"></td>
                <td id="establishmentExpensesPercent" class="highlight">0.7%</td>
            </tr>
            <tr>
                <td>Administrative Expenses</td>
                <td class="input-cell"><input type="number" id="administrativeExpenses" value="2.15" onchange="updateValues()"></td>
                <td id="administrativeExpensesPercent" class="highlight">0.2%</td>
            </tr>
            <tr>
                <td>Depreciation Expenses</td>
                <td class="input-cell"><input type="number" id="depreciationExpenses" value="0.23" onchange="updateValues()"></td>
                <td id="depreciationExpensesPercent" class="highlight">0.0%</td>
            </tr>
            <tr>
                <td>Total Operating Expenses</td>
                <td id="totalOperatingExpenses">82.78</td>
                <td id="totalOperatingExpensesPercent">8.3%</td>
            </tr>
            <tr>
                <td>Provision For NPA</td>
                <td class="input-cell"><input type="number" id="provisionForNPA" value="3.15" onchange="updateValues()"></td>
                <td id="provisionForNPAPercent" class="highlight">0.3%</td>
            </tr>
            <tr>
                <td>Bad Debts, LOS Expense</td>
                <td class="input-cell"><input type="number" id="badDebtsLOExpense" value="4.95" onchange="updateValues()"></td>
                <td id="badDebtsLOExpensePercent" class="highlight">0.5%</td>
            </tr>
            <tr>
                <td>Bad Debts Recovered</td>
                <td class="input-cell"><input type="number" id="badDebtsRecovered" value="0.24" onchange="updateValues()"></td>
                <td id="badDebtsRecoveredPercent" class="highlight">0.0%</td>
            </tr>
            <tr>
                <td>Total Credit Loss</td>
                <td id="totalCreditLoss">7.87</td>
                <td id="totalCreditLossPercent">0.8%</td>
            </tr>
            <tr>
                <td>Contribution</td>
                <td id="contribution">30.39</td>
                <td id="contributionPercent">3.0%</td>
            </tr>
        </tbody>
    </table>
    <canvas id="waterfallChart" width="400" height="200"></canvas>

    <script src="script.js"></script>
</body>
</html>
